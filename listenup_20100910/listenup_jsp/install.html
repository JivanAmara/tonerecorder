<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="Author" content="Nick Didkovsky">
   <meta name="GENERATOR" content="Mozilla/4.8 [en] (Win98; U) [Netscape]">
   <title>Installing ListenUp for JSP</title>
</head>
<body>
<h1>ListenUp, JSP Guide</h1>
<p><a href="index.html">Home for ListenUp with JSP</a></p>
<p>When this document refers to <tt>&lt;tomcatdir></tt>, it shall
be understood to mean the installation directory of Tomcat.&nbsp; For example
<tt>&lt;tomcatdir>/webapps </tt>on your server may expand to <tt>/home/tomcat/jakarta-tomcat-4.1.27/webapps</tt>

<h2>Installation Guide</h2>

We will make a Tomcat 'webapp' called <tt>listenup_jsp</tt>
<br>It will be served at <tt>http://www.yourserver.com:TomcatPort/listenup_jsp</tt>&nbsp;
For example, <tt>http://www.javasonics.com:8080/listenup_jsp</tt>


<p>1) <b>Copy</b> the "listenup_jsp" folder itself and all its contents
from the ListenUp distribution to &lt;tomcatdir>/webapps
<p>2) <b>Copy</b> the "codebase" folder itself and all its contents from
the ListenUp distribution to &lt;tomcatdir>/webapps/listenup_jsp
<p>3)&nbsp; JSP&nbsp; needs to handle the multipart form request sent
from the ListenUp applet.&nbsp; There are a number of Java solutions to
handling multipart form requests.&nbsp; We use the Commons FileUpload&nbsp;
package, available from Apache, The Jakarta Project, and show you how to
install it here.
<blockquote><b>Obtaining the Commons FileUpload distribution</b>
<ul>
<li>
Visit http://jakarta.apache.org/commons/fileupload/</li>

<li>
Click on the Full Release <TT>-></TT> binary distribution.</li>

<li>
Look for the “Commons FileUpload” section of the page that opens, and choose
the zip or tar archive.</li>

<li>
Unpack the archive and note the location of the jar file “commons-fileupload-1.0.jar”</li>

<li>
Note that there is a well-written guide to using FileUpload at http://jakarta.apache.org/commons/fileupload/using.html</li>
</ul>
</blockquote>
<b>Copy</b> <tt>commons-fileupload-1.0.jar</tt> from the Commons FileUpload
distribution to&lt;tomcatdir>/webapps/listenup/WEB-INF/lib


<p>4) <b>Give Server Scripts Write Permission</b>
<p>
You will need to <b>give the scripts permission to write the uploaded files</b>
to the &lt;tomcatdir>/webapps/listenup_jsp/ folder. You may be able to do this using your
FTP client. Or you may need to login to the server and set them by hand.
One brute force way is to set global write permissions on Linux using:
<blockquote>
<pre>cd &lt;tomcatdir>/webapps/
chmod 777 listenup_jsp</pre>
</blockquote>
If global write permission is too scary, then you may be able to just use
group write permission. You will need to determine the group used by your
JSP module. I did that by first setting global write permission. Finishing
this installation. Uploading a few files. Then looking to see what group
they belonged to. In my case it was the "tomcat" group. Then I went back
and did:
<blockquote>
<pre>chgrp tomcat listenup_jsp
chmod 775 listenup_jsp</pre>
</blockquote>


<p>5) <b>Configuring Tomcat</b>
<p>The procedure for creating a webapp varies between various versions of
    Tomcat and Unix.&nbsp; Please consult the appropriate Tomcat documentation. 
    It may only require adding a Context element as shown below, or it may 
require more steps.
<p>Look for a Context element
    in <tt>&lt;tomcatdir>/conf/server.xml</tt>. Then place this Context element immediately before it.
<p><tt>&lt;Context path="/listenup_jsp"</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; docBase="listenup_jsp"</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; crossContext="false"</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; debug="0"</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reloadable="true"
></tt>
<br><tt>&lt;/Context></tt>

<p>6) <b>Restart Tomcat</b>
<p>7) <b>Test Installation</b>
<p>Visit http://www.yourserver.com:tomcatport/listenup_jsp (for
example, http://www.javasonics.com:8080/listenup_jsp ) and proceed with
tests
<p><a href="index.html">Home for ListenUp with JSP</a>
<p>
</body>
</html>
