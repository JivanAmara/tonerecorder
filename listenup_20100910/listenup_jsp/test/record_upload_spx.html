<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.79 [en] (Windows NT 5.0; U) [Netscape]">
   <meta name="KeyWords" content="Java, audio, input, output, JavaSonics, recording, plugin, API">
   <meta name="Description" content="Java API for audio I/O.">
   <title>Record Voice and Upload using JSP</title>
</head>
<body>

<center>
<table callpadding="6" width="90%">
<tr valign="middle">
<td bgcolor="#DCE2E7">
<br>
<center>
<h2>Record and Upload Voice Message using ListenUp and Speex Compression
</h2>
</center>
</td>
</tr>
</table>
</center>
<p>
Return to <a href="index.html">home test page<a>.
<p>
More information on ListenUp can be found on the
<a href="http://www.javasonics.com/listenup/">JavaSonics web site</a>.
<br>
<!-- Only EMBED JavaSonics plugin for the Netscape browser. -->
<script src="smart_embed_javasonics.js">
</script>

<ol>
<li>
When you see the Applet appear, click the red circle and speak
into the microphone. Try to say something besides "Hello, Testing, 1,2,3".</li>

<li>
You should see the "LEDs" light up as you speak. Try to keep
the level near the middle.</li>

<li>
Click the blue square to stop recording.</li>

<li>
Click the blue triangle to play back your recording.</li>

<li>
Click the send button upload the message to the server.</li>
</ol>

The message will be compressed approximately 20:1 using Speex.

<p>
<!-- Note that we need to add the JAR file for Speex to the ARCHIVE parameter. -->	
<applet
    CODE="com.softsynth.javasonics.recplay.RecorderUploadApplet"
    CODEBASE="../codebase"
    ARCHIVE="JavaSonicsListenUp.jar,OggXiphSpeexJS.jar"
    NAME="JavaSonicRecorderUploader"
    WIDTH="400" HEIGHT="120">
    
    <!-- Use Speex compression for small files. -->	
    <param name="format" value="speex">
    <!-- Set quality factor. Trade size for fidelity. -->	
    <param name="speexQuality" value="3.0">
    <!-- Use 8000 Hz, which is supported by Speex. -->	
    <param name="frameRate" value="8000.0">
    
    <!-- Most microphones are monophonic so use 1 channel. -->	
    <param name="numChannels" value="1">
    <!-- Set maximum message length to whatever you want. -->	
    <param name="maxRecordTime" value="20.0">
    
    <!-- Turn on dynamic range compression. -->
    <param name="compressorEnable" value="yes">

	<!-- Specify URL and file to be played after upload. -->
    <param name="refreshURL" value="play_message.jsp?sampleName=message_12345.spx">

	<!-- Specify name of file uploaded.
	     There are alternatives that allow dynamic naming. -->
    <param name="uploadFileName" value="message_12345.spx">
    
	<!-- Server script to receive the multi-part form data. -->
    <param name="uploadURL" value="handle_upload_simple.jsp">

</applet>
<p>
(C) 2003 <a href="http://www.softsynth.com" target="_blank">SoftSynth.com</a>,
Phil Burk and Nick Didkovsky

</body>
</html>
